<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Web Interview Recorder</title>
  <!-- file CSS nhẹ, không có cũng không sao -->
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <main>
    <!-- ==================== MÀN HÌNH BẮT ĐẦU ==================== -->
    <section id="start-screen">
      <h1>Web Interview Recorder</h1>

      <label>
        Token:
        <input id="token-input" placeholder="Nhập token: (vd: abc123)" />
      </label>

      <label>
        Tên (không dấu, không khoảng trắng):
        <input id="name-input" placeholder="vd: anhtu" />
      </label>

      <button id="btn-start">Bắt đầu</button>
      <p id="start-message"></p>
    </section>

    <!-- ==================== MÀN HÌNH PHỎNG VẤN ==================== -->
    <section id="interview-screen" style="display:none">

      <!-- VIDEO PREVIEW -->
      <video id="video-preview" autoplay playsinline muted></video>

      <!-- hiển thị câu hỏi hiện tại -->
      <h2 id="question-title"></h2>

      <!-- cụm nút điều khiển -->
      <div>
        <button id="btn-record">Record</button>
        <button id="btn-stop" disabled>Stop</button>
        <button id="btn-next" disabled>Next</button>
        <button id="btn-finish">Finish</button>
      </div>

      <!-- trạng thái: đang ghi, đang upload, lỗi,... -->
      <p id="status-text"></p>
      <button id="btn-retry-upload" style="display:none;">Retry Upload</button>
    </section>
  </main>

  <!-- ==================== MODAL QUYỀN CAMERA ==================== -->
  <div id="camera-permission-modal" class="modal" style="
    display:none; 
    position:fixed; 
    left:0; 
    top:0; 
    width:100%; 
    height:100%;
    background:rgba(0,0,0,0.6); 
    justify-content:center; 
    align-items:center;
  ">
    <div style="
      background:white; 
      padding:20px; 
      border-radius:10px;
      max-width:400px; 
      text-align:center;
    ">
      <h3>Bật lại quyền Camera/Micro</h3>
      <p>Bạn đã từ chối quyền camera/micro.<br>Vui lòng bật lại.</p>

      <ol style="text-align:left; margin-top:10px;">
        <li>Nhấn vào biểu tượng ổ khóa trên thanh địa chỉ.</li>
        <li>Chọn <b>Allow</b> cho Camera và Microphone.</li>
        <li>Reload trang.</li>
      </ol>

      <button id="close-permission-modal" style="
        margin-top:15px;
        padding:8px 12px;
        background:#007bff;
        color:white;
        border:none;
        border-radius:5px;
        cursor:pointer;
      ">
        Tôi đã hiểu
      </button>
    </div>
  </div>

  <!-- ==================== SCRIPT ==================== -->
  <script defer src="./app.js"></script>
</body>
</html>
